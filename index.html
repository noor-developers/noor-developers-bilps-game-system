<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>NOOR Game Management System (v6 - Takomillashtirilgan)</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
  <link rel="stylesheet" href="src/css/styles.css" />
  <link rel="stylesheet" href="src/css/responsive.css" />
  
</head>
<body>
  
  <div id="snowfallContainer"></div>

  <!-- YANGI LOGIN DIZAYNI -->
  <div class="login-screen" id="loginScreen">
    <div class="login-container">
      <div class="login-header">
        <div class="logo">NOOR GMS</div>
        <h1>Game Management System</h1>
      </div>
      <div class="login-box">
        <div class="login-form" id="loginFormDiv">
          <h2>Tizimga kirish</h2>
          <div class="input-group">
            <input type="text" id="loginUsername" placeholder="Foydalanuvchi nomi" />
          </div>
          <div class="input-group">
            <input type="password" id="loginPassword" placeholder="Parol" />
          </div>
          <button id="loginButton" class="login-btn" onclick="login()">Kirish</button>
          <div id="loginStatus" class="login-status"></div>
          <div class="text-center mt-15 text-muted">
            Akkauntingiz yo'qmi? <a href="#" onclick="showRegisterForm(); return false;" class="link-accent">Ro'yxatdan o'tish</a>
          </div>
        </div>
        <div class="login-form hidden" id="registerFormDiv">
          <h2>Ro'yxatdan o'tish</h2>
          
          <h3 class="section-subtitle">ğŸ‘¤ Akkaunt ma'lumotlari</h3>
          <div class="input-group">
            <input type="text" id="registerUsername" placeholder="Foydalanuvchi nomi" />
          </div>
          <div class="input-group">
            <input type="password" id="registerPassword" placeholder="Parol" />
          </div>
          <div class="input-group">
            <input type="password" id="registerConfirmPassword" placeholder="Parolni tasdiqlash" />
          </div>
          
          <h3 class="section-subtitle">ğŸ¢ Klub ma'lumotlari</h3>
          <div class="input-group">
            <input type="text" id="registerClubName" placeholder="Klub nomi (masalan: NOOR Game Club)" />
          </div>
          <div class="input-group">
            <input type="text" id="registerOwnerName" placeholder="Egasi ismi" />
          </div>
          <div class="input-group">
            <input type="tel" id="registerPhone" placeholder="Telefon raqami (+998 90 123 45 67)" />
          </div>
          <div class="input-group">
            <input type="text" id="registerAddress" placeholder="Manzil (ixtiyoriy)" />
          </div>
          
          <button class="login-btn" onclick="register()">Ro'yxatdan o'tish</button>
          <div class="text-center mt-15 text-muted">
            Akkauntingiz bormi? <a href="#" onclick="showLoginForm(); return false;" class="link-accent">Kirish</a>
          </div>
        </div>
        <div class="login-footer">
          <div class="clock" id="loginClock">00:00:00</div>
          <div class="date" id="loginDate">Yakshanba, 01.01.2024</div>
        </div>
      </div>
    </div>
  </div>
  
  <div id="newYearBanner"></div>

  <div class="topbar">
    <div class="flex-column-5">
      <div class="topbar-brand">
        <div class="club-name" id="clubNameDisplay"></div>
        <div class="brand-subtitle">Created by Noor developers</div>
      </div>
      <div id="clubInfo" class="club-info-banner hidden"></div>
    </div>
    <nav class="nav">
      <button class="active" data-page="billiard">Billiard</button>
      <button data-page="playstation">PlayStation</button>
      <button data-page="bar">Bar</button>
      <button data-page="debtors">Qarzdorlar</button>
      <button data-page="history">Tarix</button>
      <button data-page="log">Log</button>
    </nav>
    <div class="topbar-right">
      <div class="clock-container">
        <div class="clock" id="mainClock">00:00:00</div>
        <div class="date" id="currentDate"></div>
      </div>
      
      <!-- User Profile Dropdown -->
      <div class="profile-dropdown hidden" id="userProfile">
        <button class="profile-btn" onclick="toggleProfileMenu()" id="profileBtn">
          <div class="user-avatar" id="userAvatar">ğŸ‘¤</div>
          <div class="user-info">
            <div class="user-name" id="userName">User</div>
            <div class="user-role">Xodim</div>
          </div>
          <span class="dropdown-arrow">â–¼</span>
        </button>
        
        <div class="profile-menu hidden" id="profileMenu">
          <!-- Balanslar -->
          <div class="profile-menu-section">
            <div class="profile-menu-title">ğŸ’° Balanslar</div>
            <div class="balance-item">
              <span>ğŸ’µ Naqd:</span>
              <strong id="profileCashBalance">0 so'm</strong>
            </div>
            <div class="balance-item">
              <span>ğŸ’³ O'tkazma:</span>
              <strong id="profileTransferBalance">0 so'm</strong>
            </div>
            <div class="balance-item">
              <span>ğŸ”´ Qarzlar:</span>
              <strong id="profileDebtBalance">0 so'm</strong>
            </div>
          </div>
          
          <div class="profile-menu-divider"></div>
          
          <!-- Smena -->
          <div class="profile-menu-section">
            <div class="profile-menu-title">â° Smena</div>
            <div class="shift-status-item" id="profileShiftStatus">
              <span class="shift-indicator-small">âš« Yopiq</span>
            </div>
            <button class="profile-menu-btn" onclick="toggleShift(); closeProfileMenu()" id="profileShiftBtn">
              <span>ğŸ”„</span> Smena ochish
            </button>
          </div>
          
          <div class="profile-menu-divider"></div>
          
          <!-- Obuna -->
          <div class="profile-menu-section">
            <div class="profile-menu-title">â­ Obuna</div>
            <div class="subscription-info" id="subscriptionInfo">
              <div class="subscription-status">
                <span class="subscription-badge" id="subscriptionBadge">ğŸ”’ Faol emas</span>
              </div>
              <div class="subscription-details" id="subscriptionDetails">
                <small>Obuna tugash sanasi: <strong id="subscriptionEndDate">--</strong></small>
              </div>
            </div>
            <button class="profile-menu-btn" onclick="openSubscriptionModal(); closeProfileMenu()">
              <span>ğŸ’</span> Obunani uzaytirish
            </button>
          </div>
          
          <div class="profile-menu-divider"></div>
          
          <!-- Amallar -->
          <button class="profile-menu-btn" onclick="openSettingsFromProfile(); closeProfileMenu()">
            <span>âš™ï¸</span> Sozlamalar
          </button>
          
          <button class="profile-menu-btn profile-menu-logout" onclick="logout(); closeProfileMenu()">
            <span>ğŸšª</span> Chiqish
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="main-container">
    <div class="left-panel">
      <div class="notes-section">
        <div class="section-title">ğŸ“ Zametka</div>
        <textarea id="notesArea" placeholder="Muhim eslatmalar..."></textarea>
        <button class="btn btn-primary full-width mt-8" onclick="saveNotes()">Saqlash</button>
      </div>
      
      <div class="stats-section">
        <div class="section-title">ğŸ“Š Faol sessiyalar</div>
        <div class="active-sessions" id="activeSessions">
          <div class="text-center color-dim">Faol sessiya yo'q</div>
        </div>
      </div>
      
      <div class="stats-section">
        <div class="section-title">ğŸ’µ Smenada (Jami Tushum)</div>
        <div class="stat-item">
          <span>Billiard-1:</span>
          <span class="stat-value" id="statB1">0 so'm</span>
        </div>
        <div class="stat-item">
          <span>Billiard-2:</span>
          <span class="stat-value" id="statB2">0 so'm</span>
        </div>
        <div class="stat-item">
          <span>PS4 Pro:</span>
          <span class="stat-value" id="statPS4">0 so'm</span>
        </div>
        <div class="stat-item">
          <span>PS5 Slim:</span>
          <span class="stat-value" id="statPS5">0 so'm</span>
        </div>
        <div class="stat-item">
          <span>Bar:</span>
          <span class="stat-value" id="statBar">0 so'm</span>
        </div>
        <div class="stat-item stat-highlight">
          <span class="fw-800">JAMI TUSHUM:</span>
          <span class="stat-value" id="statTotal">0 so'm</span>
        </div>
      </div>
      
      <div class="debtors-preview">
        <div class="section-title">ğŸ”´ Top 10 qarzdorlar</div>
        <div id="topDebtorsList">
          <div class="text-center color-dim">Qarzdor yo'q</div>
        </div>
      </div>
    </div>

    <div class="content-area" id="contentArea"></div>

    <div class="right-panel">
      <div class="section-title">ğŸ§¾ Cheklar</div>
      <div class="receipt-filters">
        <button class="filter-btn active" data-filter="today" onclick="filterReceipts('today', this)">Bugun</button>
        <button class="filter-btn" data-filter="7days" onclick="filterReceipts('7days', this)">7 kun</button>
        <button class="filter-btn" data-filter="all" onclick="filterReceipts('all', this)">Barchasi</button>
      </div>
      <div class="receipt-filters">
        <button class="filter-btn active" data-type="all" onclick="filterReceiptsByType('all', this)">Barchasi</button>
        <button class="filter-btn" data-type="billiard-1" onclick="filterReceiptsByType('billiard-1', this)">Billiard-1</button>
        <button class="filter-btn" data-type="billiard-2" onclick="filterReceiptsByType('billiard-2', this)">Billiard-2</button>
        <button class="filter-btn" data-type="ps4" onclick="filterReceiptsByType('ps4', this)">PS4</button>
        <button class="filter-btn" data-type="ps5" onclick="filterReceiptsByType('ps5', this)">PS5</button>
        <button class="filter-btn" data-type="bar" onclick="filterReceiptsByType('bar', this)">Bar</button>
      </div>
      <div id="receiptsList"></div>
    </div>
  </div>

  <!-- Modal oynalari -->
  <div class="modal" id="startModal">
    <div class="modal-content">
      <div class="modal-header">â±ï¸ Sessiyani boshlash</div>
      <div class="modal-text" id="startModalTable"></div>
      <div class="modal-buttons">
        <button class="modal-btn" onclick="selectInputType('time')">
          <div class="icon-xl">â°</div>
          <div>Vaqt bo'yicha (minut)</div>
        </button>
        <button class="modal-btn" onclick="selectInputType('money')">
          <div class="icon-xl">ğŸ’°</div>
          <div>Pul bo'yicha (so'm)</div>
        </button>
      </div>
      <div class="modal-close">
        <button class="btn btn-danger" onclick="closeModal('startModal')">Yopish</button>
      </div>
    </div>
  </div>
  
  <!-- Qolgan modal oynalari -->
  <div class="modal" id="inputModal">
    <div class="modal-content">
      <div class="modal-header" id="inputModalTitle"></div>
      <input type="text" class="modal-input" id="inputModalValue" placeholder="Qiymat kiriting" title="Qiymat kiriting" />
      <div class="modal-close">
        <button class="btn btn-success" onclick="confirmInput()">Tasdiqlash</button>
        <button class="btn btn-danger" onclick="closeModal('inputModal')">Bekor qilish</button>
      </div>
    </div>
  </div>
  
  <div class="modal" id="paymentModal">
    <div class="modal-content">
      <div class="modal-header" id="paymentModalHeader">ğŸ’³ To'lov</div>
      <div class="modal-text" id="paymentDetails"></div>
      
      <div class="modal-buttons modal-grid-2 mb-20">
        <button class="modal-btn active" id="payBtnCash" onclick="selectPaymentType('cash', this)">ğŸ’µ Naqd</button>
        <button class="modal-btn" id="payBtnTransfer" onclick="selectPaymentType('transfer', this)">ğŸ’³ O'tkazma</button>
      </div>
      
      <div class="modal-close modal-close-grid">
        <button class="btn btn-success grid-span-full" onclick="confirmPayment()">âœ… To'lash</button>
        <button class="btn btn-danger" id="paymentModalDebtBtn" onclick="addToDebt()">ğŸ”´ Qarzga</button>
        <button class="btn btn-primary" onclick="closePaymentModal(true)">Bekor qilish</button>
      </div>
    </div>
  </div>
  
  <div class="modal" id="selectDebtorModal">
    <div class="modal-content">
      <div class="modal-header">ğŸ”´ Qarzga yozish</div>
      <div class="modal-text">Mavjud qarzdorlardan birini tanlang yoki yangi qo'shing:</div>
      <div class="modal-buttons scrollable-list" id="existingDebtorsList">
        </div>
      <button class="btn btn-primary full-width mt-15" onclick="openNewDebtorModal()">+ Yangi Qarzdor Qo'shish</button>
      <div class="modal-close">
        <button class="btn btn-danger" onclick="closeModal('selectDebtorModal'); openModal('paymentModal');">Orqaga</button>
      </div>
    </div>
  </div>

  <div class="modal" id="newDebtorModal">
    <div class="modal-content">
      <div class="modal-header">ğŸ“ Yangi Qarzdor Ismi</div>
      <input type="text" class="modal-input" id="newDebtorName" placeholder="Qarzdor ismini kiriting" />
      <div class="modal-close">
        <button class="btn btn-success" onclick="confirmDebtName(null)">Saqlash</button>
        <button class="btn btn-danger" onclick="closeModal('newDebtorModal'); openModal('selectDebtorModal');">Orqaga</button>
      </div>
    </div>
  </div>
  
  <div class="modal" id="confirmModal">
    <div class="modal-content">
      <div class="modal-header">âš ï¸ Tasdiqlash</div>
      <div class="modal-text" id="confirmText"></div>
      <div class="modal-close">
        <button class="btn btn-success" onclick="confirmAction()">Ha</button>
        <button class="btn btn-danger" onclick="closeModal('confirmModal')">Yo'q</button>
      </div>
    </div>
  </div>
  
  <div class="modal" id="notificationModal">
    <div class="modal-content">
      <div class="modal-header">â„¹ï¸ Xabar</div>
      <div class="modal-text" id="notificationText"></div>
      <div class="modal-close">
        <button class="btn btn-primary" onclick="closeModal('notificationModal')">OK</button>
      </div>
    </div>
  </div>
  
  <div class="modal" id="transferModal">
    <div class="modal-content">
      <div class="modal-header text-warning">ğŸ’³ O'tkazma ma'lumotlari</div>
      <div class="modal-text">
        <div class="fw-700">Karta raqami:</div>
        <div class="text-xl text-primary" id="transferCardNumber"></div>
      </div>
      <div class="modal-text color-danger fw-700">
        Iltimos, o'tkazma summasi (<span id="transferAmountDisplay">0</span> so'm) kelib tushganiga ishonch hosil qiling!
      </div>
      <div class="modal-close">
        <button class="btn btn-success" onclick="finalizePayment('transfer')">âœ… Tushunarli</button>
      </div>
    </div>
  </div>

  <div class="modal" id="alarmModal">
    <div class="modal-content modal-danger">
      <div class="modal-header text-white">ğŸš¨ VAQT TUGAYAPTI!</div>
      <div class="modal-text text-white text-xl" id="alarmText"></div>
      <div class="modal-close">
        <button class="btn btn-warning" onclick="closeModal('alarmModal')">OK</button>
      </div>
    </div>
  </div>
  
  <div class="modal" id="barProductModal">
    <div class="modal-content">
      <div class="modal-header">ğŸ¹ Kimga sotiladi?</div>
      <div class="modal-buttons" id="barTargetButtons"></div>
      <button class="btn btn-success full-width mt-10" onclick="sellToCustomer()">Mijozga sotish</button>
      <div class="modal-close">
        <button class="btn btn-danger" onclick="closeModal('barProductModal')">Yopish</button>
      </div>
    </div>
  </div>

  <div class="modal" id="settingsPasswordModal">
    <div class="modal-content">
      <div class="modal-header">ğŸ”’ Sozlamalar paroli</div>
      <input type="password" class="modal-input" id="settingsPasswordInput" placeholder="Parolni kiriting" />
      <div class="modal-close">
        <button class="btn btn-success" onclick="checkSettingsPassword()">Kirish</button>
        <button class="btn btn-danger" onclick="closeModal('settingsPasswordModal')">Bekor qilish</button>
      </div>
    </div>
  </div>
  
  <div class="modal" id="payDebtModal">
    <div class="modal-content">
      <div class="modal-header">ğŸ’° Qarzni to'lash</div>
      <div class="modal-text" id="payDebtDetails"></div>
      <input type="number" class="modal-input" id="payDebtAmount" placeholder="To'lanadigan summa" />
      <div class="modal-buttons modal-grid-3">
        <button class="btn btn-blue" onclick="confirmPayDebt('cash')">ğŸ’µ Naqd</button>
        <button class="btn btn-warning" onclick="confirmPayDebt('transfer')">ğŸ’³ O'tkazma</button>
      </div>
      <div class="modal-close">
        <button class="btn btn-danger" onclick="closeModal('payDebtModal')">Bekor qilish</button>
      </div>
    </div>
  </div>
  
  <div class="modal" id="deleteDebtorModal">
    <div class="modal-content">
      <div class="modal-header">ğŸ”’ Qarzdorni o'chirish</div>
      <div class="modal-text">Qarzdorni o'chirish uchun sozlamalar parolini kiriting:</div>
      <input type="password" class="modal-input" id="deleteDebtorPassword" placeholder="Parolni kiriting" />
      <div class="modal-close">
        <button class="btn btn-danger" onclick="confirmDeleteDebtor()">O'chirish</button>
        <button class="btn btn-primary" onclick="closeModal('deleteDebtorModal')">Bekor qilish</button>
      </div>
    </div>
  </div>

  <div class="modal" id="exportLogPasswordModal">
    <div class="modal-content">
      <div class="modal-header">ğŸ”’ Log Eksport</div>
      <div class="modal-text">Log faylini eksport qilish uchun Sozlamalar parolini kiriting:</div>
      <input type="password" class="modal-input" id="exportLogPassword" placeholder="Parolni kiriting" />
      <div class="modal-close">
        <button class="btn btn-success" onclick="confirmLogExport()">Eksport</button>
        <button class="btn btn-danger" onclick="closeModal('exportLogPasswordModal')">Bekor qilish</button>
      </div>
    </div>
  </div>

  <!-- Subscription Modal -->
  <div id="subscriptionModal" class="modal">
    <div class="modal-content">
      <h3>â­ Obuna boshqaruvi</h3>
      <p>Obunangizni faollashtiring yoki uzaytiring</p>
      
      <div class="subscription-plans">
        <div class="plan-card">
          <div class="plan-header">
            <h4>ğŸ“… Oylik</h4>
            <div class="plan-price">150,000 so'm</div>
          </div>
          <ul class="plan-features">
            <li>âœ… 30 kun obuna</li>
            <li>âœ… Barcha funksiyalar</li>
            <li>âœ… Texnik yordam</li>
          </ul>
          <button class="btn btn-primary full-width" onclick="activateSubscription(30)">Sotib olish</button>
        </div>
        
        <div class="plan-card plan-popular">
          <div class="plan-badge">â­ Ommabop</div>
          <div class="plan-header">
            <h4>ğŸ“… 3 oylik</h4>
            <div class="plan-price">400,000 so'm</div>
            <div class="plan-discount">11% tejash</div>
          </div>
          <ul class="plan-features">
            <li>âœ… 90 kun obuna</li>
            <li>âœ… Barcha funksiyalar</li>
            <li>âœ… Texnik yordam</li>
            <li>âœ… Maxsus bonuslar</li>
          </ul>
          <button class="btn btn-success full-width" onclick="activateSubscription(90)">Sotib olish</button>
        </div>
        
        <div class="plan-card">
          <div class="plan-header">
            <h4>ğŸ“… Yillik</h4>
            <div class="plan-price">1,500,000 so'm</div>
            <div class="plan-discount">17% tejash</div>
          </div>
          <ul class="plan-features">
            <li>âœ… 365 kun obuna</li>
            <li>âœ… Barcha funksiyalar</li>
            <li>âœ… Maxsus texnik yordam</li>
            <li>âœ… Premium bonuslar</li>
          </ul>
          <button class="btn btn-primary full-width" onclick="activateSubscription(365)">Sotib olish</button>
        </div>
      </div>
      
      <div class="modal-footer-center">
        <button class="btn btn-secondary" onclick="closeModal('subscriptionModal')">Yopish</button>
      </div>
    </div>
  </div>

  <!-- Sozlamalar Modal -->
  <div class="modal" id="settingsModal">
    <div class="modal-content settings-modal-content">
      <div class="modal-header">
        <h2><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width:24px;height:24px;vertical-align:middle;margin-right:8px;"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94L14.4 2.81c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg> Sozlamalar</h2>
        <button class="close-btn" onclick="closeModal('settingsModal')">Ã—</button>
      </div>
      
      <div class="modal-body">
        <div class="settings-wrapper">
          <div>
            <!-- Profil ma'lumotlari -->
            <div class="settings-section">
              <h3 class="section-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width:20px;height:20px;vertical-align:middle;margin-right:8px;"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                Profil ma'lumotlari
              </h3>
          <div class="input-group">
            <label>Foydalanuvchi nomi</label>
            <input type="text" id="settingsUsername" class="modal-input" readonly title="Foydalanuvchi" placeholder="Foydalanuvchi" />
          </div>
          <div class="input-group">
            <label>Club nomi</label>
            <input type="text" id="settingsClubName" class="modal-input" readonly title="Club nomi" placeholder="Club nomi" />
          </div>
        </div>

            <!-- Parol o'zgartirish -->
            <div class="settings-section">
              <h3 class="section-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width:20px;height:20px;vertical-align:middle;margin-right:8px;"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/></svg>
                Xavfsizlik
              </h3>
          <div class="input-group">
            <label>Joriy parol</label>
            <input type="password" id="settingsCurrentPassword" class="modal-input" placeholder="Joriy parolni kiriting" />
          </div>
          <div class="input-group">
            <label>Yangi parol</label>
            <input type="password" id="settingsNewPassword" class="modal-input" placeholder="Yangi parol" />
          </div>
          <div class="input-group">
            <label>Yangi parolni tasdiqlash</label>
            <input type="password" id="settingsConfirmPassword" class="modal-input" placeholder="Yangi parolni qayta kiriting" />
          </div>
          <button class="btn btn-warning full-width" onclick="changePassword()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width:18px;height:18px;vertical-align:middle;margin-right:8px;"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/></svg>
            Parolni o'zgartirish
          </button>
            </div>
          </div>

          <div>
            <!-- Narxlar sozlamalari -->
            <div class="settings-section">
              <h3 class="section-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width:20px;height:20px;vertical-align:middle;margin-right:8px;"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/></svg>
                Narxlar sozlamalari
              </h3>
          <div class="settings-grid">
            <div class="input-group">
              <label>ğŸ± Billiard 1 (soatiga)</label>
              <input type="number" id="settingsPriceB1" class="modal-input" value="40000" title="Billiard 1 narxi" placeholder="40000" />
            </div>
            <div class="input-group">
              <label>ğŸ± Billiard 2 (soatiga)</label>
              <input type="number" id="settingsPriceB2" class="modal-input" value="40000" title="Billiard 2 narxi" placeholder="40000" />
            </div>
            <div class="input-group">
              <label>ğŸ® PlayStation 4 (soatiga)</label>
              <input type="number" id="settingsPricePS4" class="modal-input" value="15000" title="PlayStation 4 narxi" placeholder="15000" />
            </div>
            <div class="input-group">
              <label>ğŸ® PlayStation 5 (soatiga)</label>
              <input type="number" id="settingsPricePS5" class="modal-input" value="20000" title="PlayStation 5 narxi" placeholder="20000" />
            </div>
          </div>
            </div>

            <!-- Ma'lumotlarni boshqarish -->
            <div class="settings-section">
              <h3 class="section-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width:20px;height:20px;vertical-align:middle;margin-right:8px;"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"/></svg>
                Ma'lumotlarni boshqarish
              </h3>
          <div class="settings-actions">
            <button class="btn btn-secondary full-width" onclick="exportData()">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width:18px;height:18px;vertical-align:middle;margin-right:8px;"><path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/></svg>
              Ma'lumotlarni yuklash (JSON)
            </button>
            <button class="btn btn-warning full-width" onclick="clearLocalStorage()">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width:18px;height:18px;vertical-align:middle;margin-right:8px;"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>
              Keshni tozalash
            </button>
              </div>
            </div>

            <!-- Versiya -->
            <div class="settings-section">
              <div class="version-info">
                <small>NOOR GMS v2.0 | Created by Noor developers</small>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('settingsModal')">Yopish</button>
        <button class="btn btn-primary" onclick="saveSettings()">
          <span>ğŸ’¾</span> Saqlash
        </button>
      </div>
    </div>
  </div>

    <script>
      // Login screen clock updater
      console.log('ğŸ•’ Login clock init');
      
      function updateLoginClock() {
        const now = new Date();
        const days = ['Yakshanba', 'Dushanba', 'Seshanba', 'Chorshanba', 'Payshanba', 'Juma', 'Shanba'];
        const months = ['Yanvar', 'Fevral', 'Mart', 'Aprel', 'May', 'Iyun', 'Iyul', 'Avgust', 'Sentabr', 'Oktabr', 'Noyabr', 'Dekabr'];
        const day = now.getDate().toString().padStart(2, '0');
        const month = (now.getMonth() + 1).toString().padStart(2, '0');

        const loginClockEl = document.getElementById('loginClock');
        if (loginClockEl) {
          loginClockEl.textContent = now.toLocaleTimeString('uz-UZ', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
        }

        const loginDateEl = document.getElementById('loginDate');
        if (loginDateEl) {
          loginDateEl.textContent = `${days[now.getDay()]}, ${day}.${month}.${now.getFullYear()}`;
        }
      }

      setInterval(updateLoginClock, 1000);
      updateLoginClock();
    </script>

    <script type="module" src="src/js/main.js?v=5"></script>

</body>
</html>
